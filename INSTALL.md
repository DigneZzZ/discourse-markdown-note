# Инструкция по установке и тестированию плагина

## Установка в Discourse

### Шаг 1: Копирование файлов
1. Скопируйте всю папку плагина в директорию `plugins/` вашего Discourse:
   ```bash
   cp -r discourse-markdown-note /path/to/discourse/plugins/
   ```

### Шаг 2: Перезапуск Discourse
1. Остановите Discourse:
   ```bash
   ./launcher stop app
   ```

2. Пересоберите контейнер с новым плагином:
   ```bash
   ./launcher rebuild app
   ```

### Шаг 3: Активация плагина
1. Войдите в административную панель Discourse
2. Перейдите в **Настройки → Плагины**
3. Найдите плагин **markdown-note** 
4. Включите настройку `markdown_note_enabled`

## Тестирование функций

### 1. Тест базовых тегов
Создайте новую тему и попробуйте следующие теги:

```
[note]Это обычная заметка[/note]
[info]Это информационная заметка[/info]
[warn]Это предупреждение[/warn]
[negative]Это ошибка[/negative]
[positive]Это успех[/positive]
[caution]Это важное предупреждение[/caution]
```

### 2. Тест старого синтаксиса
```
[note type="info"]Информация в старом формате[/note]
[note type="warn"]Предупреждение в старом формате[/note]
[note type="error"]Ошибка в старом формате[/note]
```

### 3. Тест кнопки в редакторе
1. Откройте редактор создания сообщения
2. Найдите кнопку с иконкой заметки в панели инструментов
3. Нажмите на неё - должно открыться выпадающее меню с типами заметок
4. Выберите любой тип - должен вставиться соответствующий тег

### 4. Тест административной панели
1. Перейдите в **Админ → Плагины → Настройки заметок Markdown**
2. Измените цвета для любого типа заметки
3. Проверьте предпросмотр - цвета должны обновиться мгновенно
4. Сохраните настройки
5. Создайте новую заметку - она должна отображаться с новыми цветами

### 5. Тест темной темы
1. Переключите тему на темную в настройках профиля
2. Проверьте отображение всех типов заметок
3. Все заметки должны корректно отображаться в темной теме

## Возможные проблемы

### Плагин не отображается в списке
- Убедитесь, что файлы скопированы правильно
- Проверьте права доступа к файлам плагина
- Проверьте логи Discourse на наличие ошибок

### Заметки не отображаются правильно
- Убедитесь, что плагин включен в настройках
- Очистите кеш браузера
- Проверьте консоль браузера на наличие JavaScript ошибок

### Административная панель недоступна
- Убедитесь, что у вас есть права администратора
- Проверьте, что маршруты зарегистрированы корректно
- Перезапустите Discourse если необходимо

### Кнопка в редакторе не работает
- Обновите страницу
- Проверьте консоль браузера на ошибки JavaScript
- Убедитесь, что инициализатор загружается корректно

## Контакты для поддержки

Если у вас возникли проблемы:
1. Проверьте логи Discourse: `/var/discourse/shared/standalone/log/rails/`
2. Создайте Issue в репозитории проекта
3. Приложите скриншоты и описание проблемы
